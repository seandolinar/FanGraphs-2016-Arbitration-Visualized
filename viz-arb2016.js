var dataFull = [{"Name": "Dustin Ackley", "Notes": "", "Service Time": "4.087", "Mid": "", "TeamName": "Yankees", "Player": "", "Team": "", "Final": "3.2", "null": ["", "", "", "", "", "", ""]},{"Name": "Matt Adams", "Notes": "", "Service Time": "3.033", "Mid": "", "TeamName": "Cardinals", "Player": "", "Team": "", "Final": "1.65", "null": ["", "", "", "", "", "", ""]},{"Name": "Cody Allen", "Notes": "", "Service Time": "3.076", "Mid": "", "TeamName": "Indians", "Player": "", "Team": "", "Final": "4.15", "null": ["", "", "", "", "", "", ""]},{"Name": "Yonder Alonso", "Notes": "", "Service Time": "4.116", "Mid": "", "TeamName": "Athletics", "Player": "", "Team": "", "Final": "2.65", "null": ["", "", "", "", "", "", ""]},{"Name": "Nolan Arenado", "Notes": "", "Service Time": "2.155", "Mid": "", "TeamName": "Rockies", "Player": "", "Team": "", "Final": "5", "null": ["", "", "", "", "", "", ""]},{"Name": "Jake Arrieta", "Notes": "", "Service Time": "4.145", "Mid": "10.25", "TeamName": "Cubs", "Player": "13", "Team": "7.5", "Final": "10.7", "null": ["", "", "", "", "", "", ""]},{"Name": "Luis Avilan", "Notes": "", "Service Time": "3.077", "Mid": "", "TeamName": "Dodgers", "Player": "", "Team": "", "Final": "1.39", "null": ["", "", "", "", "", "", ""]},{"Name": "Brandon Barnes", "Notes": "", "Service Time": "3.024", "Mid": "", "TeamName": "Rockies", "Player": "", "Team": "", "Final": "1", "null": ["", "", "", "", "", "", ""]},{"Name": "Brandon Belt", "Notes": "", "Service Time": "4.128", "Mid": "6.4", "TeamName": "Giants", "Player": "7.5", "Team": "5.3", "Final": "", "null": ["", "", "", "", "", "", ""]},{"Name": "Charlie Blackmon", "Notes": "", "Service Time": "3.102", "Mid": "3.3", "TeamName": "Rockies", "Player": "3.9", "Team": "2.7", "Final": "3.5", "null": ["", "", "", "", "", "", ""]},{"Name": "Andres Blanco", "Notes": "", "Service Time": "5.007", "Mid": "", "TeamName": "Phillies", "Player": "", "Team": "", "Final": "1.45", "null": ["", "", "", "", "", "", ""]},{"Name": "Peter Bourjos", "Notes": "", "Service Time": "5.062", "Mid": "", "TeamName": "Phillies", "Player": "", "Team": "", "Final": "2", "null": ["", "", "", "", "", "", ""]},{"Name": "Brad Brach", "Notes": "", "Service Time": "3.063", "Mid": "", "TeamName": "Orioles", "Player": "", "Team": "", "Final": "1.25", "null": ["", "", "", "", "", "", ""]},{"Name": "Zach Britton", "Notes": "", "Service Time": "3.158", "Mid": "6.75", "TeamName": "Orioles", "Player": "7.9", "Team": "5.6", "Final": "6.75", "null": ["", "", "", "", "", "", ""]},{"Name": "Rex Brothers", "Notes": "", "Service Time": "3.131", "Mid": "", "TeamName": "Cubs", "Player": "", "Team": "", "Final": "1.42", "null": ["", "", "", "", "", "", ""]},{"Name": "Drew Butera", "Notes": "", "Service Time": "5.018", "Mid": "", "TeamName": "Royals", "Player": "", "Team": "", "Final": "1.163", "null": ["", "", "", "", "", "", ""]},{"Name": "Lorenzo Cain", "Notes": "Extension: 2yr/$17.5 M", "Service Time": "4.074", "Mid": "6.425", "TeamName": "Royals", "Player": "7.85", "Team": "5", "Final": "", "null": ["", "", "", "", "", "", ""]},{"Name": "Kole Calhoun", "Notes": "", "Service Time": "2.13", "Mid": "3.125", "TeamName": "Angels", "Player": "3.9", "Team": "2.35", "Final": "3.4", "null": ["", "", "", "", "", "", ""]},{"Name": "Carter Capps", "Notes": "", "Service Time": "3.007", "Mid": "", "TeamName": "Marlins", "Player": "", "Team": "", "Final": "U", "null": ["", "", "", "", "", "", ""]},{"Name": "Andrew Cashner", "Notes": "", "Service Time": "5.126", "Mid": "", "TeamName": "Padres", "Player": "", "Team": "", "Final": "7.15", "null": ["", "", "", "", "", "", ""]},{"Name": "Welington Castillo", "Notes": "", "Service Time": "4.009", "Mid": "", "TeamName": "Diamondbacks", "Player": "", "Team": "", "Final": "3.7", "null": ["", "", "", "", "", "", ""]},{"Name": "Jason Castro", "Notes": "", "Service Time": "5.104", "Mid": "5.125", "TeamName": "Astros", "Player": "5.25", "Team": "5", "Final": "", "null": ["", "", "", "", "", "", ""]},{"Name": "Brett Cecil", "Notes": "", "Service Time": "5.152", "Mid": "", "TeamName": "Blue Jays", "Player": "", "Team": "", "Final": "3.8", "null": ["", "", "", "", "", "", ""]},{"Name": "Francisco Cervelli", "Notes": "", "Service Time": "5.146", "Mid": "", "TeamName": "Pirates", "Player": "", "Team": "", "Final": "3.5", "null": ["", "", "", "", "", "", ""]},{"Name": "Aroldis Chapman", "Notes": "", "Service Time": "5.034", "Mid": "11.05", "TeamName": "Yankees", "Player": "13.1", "Team": "9", "Final": "", "null": ["", "", "", "", "", "", ""]},{"Name": "Jesse Chavez", "Notes": "", "Service Time": "5.108", "Mid": "3.8", "TeamName": "Blue Jays", "Player": "4", "Team": "3.6", "Final": "4", "null": ["", "", "", "", "", "", ""]},{"Name": "Robinson Chirinos", "Notes": "", "Service Time": "3.103", "Mid": "", "TeamName": "Rangers", "Player": "", "Team": "", "Final": "1.55", "null": ["", "", "", "", "", "", ""]},{"Name": "Lonnie Chisenhall", "Notes": "", "Service Time": "3.158", "Mid": "", "TeamName": "Indians", "Player": "", "Team": "", "Final": "2.725", "null": ["", "", "", "", "", "", ""]},{"Name": "Alex Cobb", "Notes": "", "Service Time": "4.061", "Mid": "", "TeamName": "Rays", "Player": "", "Team": "", "Final": "4", "null": ["", "", "", "", "", "", ""]},{"Name": "Chris Coghlan", "Notes": "", "Service Time": "5.148", "Mid": "", "TeamName": "Cubs", "Player": "", "Team": "", "Final": "4.8", "null": ["", "", "", "", "", "", ""]},{"Name": "Louis Coleman", "Notes": "", "Service Time": "3.018", "Mid": "", "TeamName": "Royals", "Player": "", "Team": "", "Final": "0.725", "null": ["", "", "", "", "", "", ""]},{"Name": "Tim Collins", "Notes": "", "Service Time": "4.097", "Mid": "", "TeamName": "Royals", "Player": "", "Team": "", "Final": "1.475", "null": ["", "", "", "", "", "", ""]},{"Name": "Hank Conger", "Notes": "", "Service Time": "4.051", "Mid": "", "TeamName": "Rays", "Player": "", "Team": "", "Final": "1.5", "null": ["", "", "", "", "", "", ""]},{"Name": "Patrick Corbin", "Notes": "", "Service Time": "3.105", "Mid": "", "TeamName": "Diamondbacks", "Player": "", "Team": "", "Final": "2.525", "null": ["", "", "", "", "", "", ""]},{"Name": "Collin Cowgill", "Notes": "", "Service Time": "3.151", "Mid": "", "TeamName": "Indians", "Player": "", "Team": "", "Final": "1", "null": ["", "", "", "", "", "", ""]},{"Name": "Zack Cozart", "Notes": "", "Service Time": "4.084", "Mid": "", "TeamName": "Reds", "Player": "", "Team": "", "Final": "2.925", "null": ["", "", "", "", "", "", ""]},{"Name": "Tony Cruz", "Notes": "", "Service Time": "4.105", "Mid": "", "TeamName": "Royals", "Player": "", "Team": "", "Final": "0.975", "null": ["", "", "", "", "", "", ""]},{"Name": "Rubby De La Rosa", "Notes": "", "Service Time": "3.097", "Mid": "", "TeamName": "Diamondbacks", "Player": "", "Team": "", "Final": "2.35", "null": ["", "", "", "", "", "", ""]},{"Name": "Steve Delabar", "Notes": "", "Service Time": "3.008", "Mid": "", "TeamName": "Blue Jays", "Player": "", "Team": "", "Final": "0.835", "null": ["", "", "", "", "", "", ""]},{"Name": "Randall Delgado", "Notes": "", "Service Time": "3.1", "Mid": "", "TeamName": "Diamondbacks", "Player": "", "Team": "", "Final": "1.25", "null": ["", "", "", "", "", "", ""]},{"Name": "Jake Diekman", "Notes": "", "Service Time": "3.049", "Mid": "1.262", "TeamName": "Rangers", "Player": "1.55", "Team": "0.975", "Final": "1.255", "null": ["", "", "", "", "", "", ""]},{"Name": "Josh Donaldson", "Notes": "Extension: 2yr/$29 M", "Service Time": "3.158", "Mid": "11.575", "TeamName": "Blue Jays", "Player": "11.8", "Team": "11.35", "Final": "", "null": ["", "", "", "", "", "", ""]},{"Name": "Felix Doubront", "Notes": "", "Service Time": "4.041", "Mid": "", "TeamName": "Athletics", "Player": "", "Team": "", "Final": "2", "null": ["", "", "", "", "", "", ""]},{"Name": "Lucas Duda", "Notes": "", "Service Time": "4.137", "Mid": "6.65", "TeamName": "Mets", "Player": "7.4", "Team": "5.9", "Final": "6.725", "null": ["", "", "", "", "", "", ""]},{"Name": "Danny Duffy", "Notes": "", "Service Time": "4.085", "Mid": "", "TeamName": "Royals", "Player": "", "Team": "", "Final": "4.225", "null": ["", "", "", "", "", "", ""]},{"Name": "Jarrod Dyson", "Notes": "", "Service Time": "4.088", "Mid": "", "TeamName": "Royals", "Player": "", "Team": "", "Final": "1.725", "null": ["", "", "", "", "", "", ""]},{"Name": "Josh Edgin", "Notes": "", "Service Time": "3.015", "Mid": "", "TeamName": "Mets", "Player": "", "Team": "", "Final": "0.625", "null": ["", "", "", "", "", "", ""]},{"Name": "A.J. Ellis", "Notes": "", "Service Time": "5.151", "Mid": "", "TeamName": "Dodgers", "Player": "", "Team": "", "Final": "4.5", "null": ["", "", "", "", "", "", ""]},{"Name": "Nate Eovaldi", "Notes": "", "Service Time": "4.013", "Mid": "5.6", "TeamName": "Yankees", "Player": "6.3", "Team": "4.9", "Final": "5.6", "null": ["", "", "", "", "", "", ""]},{"Name": "Eduardo Escobar", "Notes": "", "Service Time": "3.128", "Mid": "", "TeamName": "Twins", "Player": "", "Team": "", "Final": "2.15", "null": ["", "", "", "", "", "", ""]},{"Name": "Danny Espinosa", "Notes": "", "Service Time": "4.113", "Mid": "", "TeamName": "Nationals", "Player": "", "Team": "", "Final": "2.875", "null": ["", "", "", "", "", "", ""]},{"Name": "Jeurys Familia", "Notes": "", "Service Time": "3.03", "Mid": "4.05", "TeamName": "Mets", "Player": "4.8", "Team": "3.3", "Final": "4.1", "null": ["", "", "", "", "", "", ""]},{"Name": "Jose Fernandez", "Notes": "", "Service Time": "3", "Mid": "", "TeamName": "Marlins", "Player": "", "Team": "", "Final": "2.8", "null": ["", "", "", "", "", "", ""]},{"Name": "Josh Fields", "Notes": "", "Service Time": "3", "Mid": "", "TeamName": "Astros", "Player": "", "Team": "", "Final": "0.9", "null": ["", "", "", "", "", "", ""]},{"Name": "Casey Fien", "Notes": "", "Service Time": "3.143", "Mid": "", "TeamName": "Twins", "Player": "", "Team": "", "Final": "2.275", "null": ["", "", "", "", "", "", ""]},{"Name": "Ryan Flaherty", "Notes": "", "Service Time": "4", "Mid": "", "TeamName": "Orioles", "Player": "", "Team": "", "Final": "1.5", "null": ["", "", "", "", "", "", ""]},{"Name": "Logan Forsythe", "Notes": "", "Service Time": "4.113", "Mid": "", "TeamName": "Rays", "Player": "", "Team": "", "Final": "E", "null": ["", "", "", "", "", "", ""]},{"Name": "Sam Fuld", "Notes": "", "Service Time": "5.14", "Mid": "", "TeamName": "Athletics", "Player": "", "Team": "", "Final": "U", "null": ["", "", "", "", "", "", ""]},{"Name": "Charlie Furbush", "Notes": "", "Service Time": "4.121", "Mid": "", "TeamName": "Mariners", "Player": "", "Team": "", "Final": "1.6", "null": ["", "", "", "", "", "", ""]},{"Name": "Freddy Galvis", "Notes": "", "Service Time": "3.021", "Mid": "", "TeamName": "Phillies", "Player": "", "Team": "", "Final": "2", "null": ["", "", "", "", "", "", ""]},{"Name": "Avisail Garcia", "Notes": "", "Service Time": "2.167", "Mid": "", "TeamName": "White Sox", "Player": "", "Team": "", "Final": "2.1", "null": ["", "", "", "", "", "", ""]},{"Name": "Evan Gattis", "Notes": "", "Service Time": "3", "Mid": "3.425", "TeamName": "Astros", "Player": "3.85", "Team": "3", "Final": "", "null": ["", "", "", "", "", "", ""]},{"Name": "Chris Gimenez", "Notes": "", "Service Time": "3.163", "Mid": "", "TeamName": "Rangers", "Player": "", "Team": "", "Final": "0.975", "null": ["", "", "", "", "", "", ""]},{"Name": "Jeanmar Gomez", "Notes": "", "Service Time": "4.063", "Mid": "", "TeamName": "Phillies", "Player": "", "Team": "", "Final": "1.4", "null": ["", "", "", "", "", "", ""]},{"Name": "Marwin Gonzalez", "Notes": "", "Service Time": "3.133", "Mid": "", "TeamName": "Astros", "Player": "", "Team": "", "Final": "2", "null": ["", "", "", "", "", "", ""]},{"Name": "Miguel Gonzalez", "Notes": "", "Service Time": "4.095", "Mid": "", "TeamName": "Orioles", "Player": "", "Team": "", "Final": "5.1", "null": ["", "", "", "", "", "", ""]},{"Name": "Dee Gordon", "Notes": "", "Service Time": "3.154", "Mid": "", "TeamName": "Marlins", "Player": "", "Team": "", "Final": "E", "null": ["", "", "", "", "", "", ""]},{"Name": "Yasmani Grandal", "Notes": "", "Service Time": "3.115", "Mid": "", "TeamName": "Dodgers", "Player": "", "Team": "", "Final": "2.8", "null": ["", "", "", "", "", "", ""]},{"Name": "Didi Gregorius", "Notes": "", "Service Time": "2.159", "Mid": "2.413", "TeamName": "Yankees", "Player": "2.525", "Team": "2.3", "Final": "2.425", "null": ["", "", "", "", "", "", ""]},{"Name": "Justin Grimm", "Notes": "", "Service Time": "2.17", "Mid": "", "TeamName": "Cubs", "Player": "", "Team": "", "Final": "1.275", "null": ["", "", "", "", "", "", ""]},{"Name": "Brandon Guyer", "Notes": "", "Service Time": "3.066", "Mid": "", "TeamName": "Rays", "Player": "", "Team": "", "Final": "1.185", "null": ["", "", "", "", "", "", ""]},{"Name": "Matt Harvey", "Notes": "", "Service Time": "3.072", "Mid": "", "TeamName": "Mets", "Player": "", "Team": "", "Final": "4.325", "null": ["", "", "", "", "", "", ""]},{"Name": "Chris Hatcher", "Notes": "", "Service Time": "2.146", "Mid": "", "TeamName": "Dodgers", "Player": "", "Team": "", "Final": "1.065", "null": ["", "", "", "", "", "", ""]},{"Name": "Adeiny Hechavarria", "Notes": "", "Service Time": "3.06", "Mid": "", "TeamName": "Marlins", "Player": "", "Team": "", "Final": "2.625", "null": ["", "", "", "", "", "", ""]},{"Name": "Jeremy Hellickson", "Notes": "", "Service Time": "5.045", "Mid": "", "TeamName": "Phillies", "Player": "", "Team": "", "Final": "7", "null": ["", "", "", "", "", "", ""]},{"Name": "J.J. Hoover", "Notes": "", "Service Time": "3.102", "Mid": "1.312", "TeamName": "Reds", "Player": "1.4", "Team": "1.225", "Final": "1.4", "null": ["", "", "", "", "", "", ""]},{"Name": "Daniel Hudson", "Notes": "", "Service Time": "5.117", "Mid": "", "TeamName": "Diamondbacks", "Player": "", "Team": "", "Final": "2.7", "null": ["", "", "", "", "", "", ""]},{"Name": "Jared Hughes", "Notes": "", "Service Time": "3.162", "Mid": "", "TeamName": "Pirates", "Player": "", "Team": "", "Final": "2.175", "null": ["", "", "", "", "", "", ""]},{"Name": "Drew Hutchison", "Notes": "", "Service Time": "3.128", "Mid": "", "TeamName": "Blue Jays", "Player": "", "Team": "", "Final": "2.2", "null": ["", "", "", "", "", "", ""]},{"Name": "Jose Iglesias", "Notes": "", "Service Time": "3.036", "Mid": "", "TeamName": "Tigers", "Player": "", "Team": "", "Final": "2.1", "null": ["", "", "", "", "", "", ""]},{"Name": "Kenley Jansen", "Notes": "", "Service Time": "5.073", "Mid": "", "TeamName": "Dodgers", "Player": "", "Team": "", "Final": "10.65", "null": ["", "", "", "", "", "", ""]},{"Name": "Dan Jennings", "Notes": "", "Service Time": "2.171", "Mid": "", "TeamName": "White Sox", "Player": "", "Team": "", "Final": "0.81", "null": ["", "", "", "", "", "", ""]},{"Name": "Desmond Jennings", "Notes": "", "Service Time": "4.101", "Mid": "", "TeamName": "Rays", "Player": "", "Team": "", "Final": "3.3", "null": ["", "", "", "", "", "", ""]},{"Name": "Kevin Jepsen", "Notes": "", "Service Time": "5.163", "Mid": "5.225", "TeamName": "Twins", "Player": "5.4", "Team": "5.05", "Final": "5.312", "null": ["", "", "", "", "", "", ""]},{"Name": "Nate Jones", "Notes": "", "Service Time": "4", "Mid": "", "TeamName": "White Sox", "Player": "", "Team": "", "Final": "E", "null": ["", "", "", "", "", "", ""]},{"Name": "Joe Kelly", "Notes": "", "Service Time": "3.101", "Mid": "", "TeamName": "Red Sox", "Player": "", "Team": "", "Final": "2.6", "null": ["", "", "", "", "", "", ""]},{"Name": "Dallas Keuchel", "Notes": "", "Service Time": "3.089", "Mid": "", "TeamName": "Astros", "Player": "", "Team": "", "Final": "7.25", "null": ["", "", "", "", "", "", ""]},{"Name": "Tom Koehler", "Notes": "", "Service Time": "3.016", "Mid": "", "TeamName": "Marlins", "Player": "", "Team": "", "Final": "3.5", "null": ["", "", "", "", "", "", ""]},{"Name": "George Kontos", "Notes": "", "Service Time": "2.171", "Mid": "1.1", "TeamName": "Giants", "Player": "1.35", "Team": "0.85", "Final": "1.15", "null": ["", "", "", "", "", "", ""]},{"Name": "Brett Lawrie", "Notes": "", "Service Time": "4.055", "Mid": "", "TeamName": "White Sox", "Player": "", "Team": "", "Final": "4.125", "null": ["", "", "", "", "", "", ""]},{"Name": "DJ LeMahieu", "Notes": "", "Service Time": "3.128", "Mid": "3.05", "TeamName": "Rockies", "Player": "3.3", "Team": "2.8", "Final": "", "null": ["", "", "", "", "", "", ""]},{"Name": "Jose Lobaton", "Notes": "", "Service Time": "4.138", "Mid": "", "TeamName": "Nationals", "Player": "", "Team": "", "Final": "1.387", "null": ["", "", "", "", "", "", ""]},{"Name": "Jeff Locke", "Notes": "", "Service Time": "3.02", "Mid": "", "TeamName": "Pirates", "Player": "", "Team": "", "Final": "3.025", "null": ["", "", "", "", "", "", ""]},{"Name": "Aaron Loup", "Notes": "", "Service Time": "3.083", "Mid": "", "TeamName": "Blue Jays", "Player": "", "Team": "", "Final": "1.05", "null": ["", "", "", "", "", "", ""]},{"Name": "Jordan Lyles", "Notes": "", "Service Time": "4.06", "Mid": "", "TeamName": "Rockies", "Player": "", "Team": "", "Final": "2.975", "null": ["", "", "", "", "", "", ""]},{"Name": "Manny Machado", "Notes": "", "Service Time": "3.056", "Mid": "", "TeamName": "Orioles", "Player": "", "Team": "", "Final": "5", "null": ["", "", "", "", "", "", ""]},{"Name": "Seth Maness", "Notes": "", "Service Time": "2.154", "Mid": "", "TeamName": "Cardinals", "Player": "", "Team": "", "Final": "1.4", "null": ["", "", "", "", "", "", ""]},{"Name": "Jeff Manship", "Notes": "", "Service Time": "2.13", "Mid": "", "TeamName": "Indians", "Player": "", "Team": "", "Final": "0.765", "null": ["", "", "", "", "", "", ""]},{"Name": "Leonys Martin", "Notes": "", "Service Time": "3.063", "Mid": "", "TeamName": "Mariners", "Player": "", "Team": "", "Final": "4.15", "null": ["", "", "", "", "", "", ""]},{"Name": "J.D. Martinez", "Notes": "Extension: 2yr/$18.5 M", "Service Time": "4.036", "Mid": "7", "TeamName": "Tigers", "Player": "8", "Team": "6", "Final": "", "null": ["", "", "", "", "", "", ""]},{"Name": "Brian Matusz", "Notes": "", "Service Time": "5.156", "Mid": "3.95", "TeamName": "Orioles", "Player": "4.4", "Team": "3.5", "Final": "3.9", "null": ["", "", "", "", "", "", ""]},{"Name": "Zach McAllister", "Notes": "", "Service Time": "3.077", "Mid": "", "TeamName": "Indians", "Player": "", "Team": "", "Final": "1.3", "null": ["", "", "", "", "", "", ""]},{"Name": "Jake McGee", "Notes": "", "Service Time": "4.127", "Mid": "", "TeamName": "Rays", "Player": "", "Team": "", "Final": "4.8", "null": ["", "", "", "", "", "", ""]},{"Name": "Jenrry Mejia", "Notes": "", "Service Time": "3.085", "Mid": "2.47", "TeamName": "Mets", "Player": "2.595", "Team": "2.345", "Final": "2.47", "null": ["", "", "", "", "", "", ""]},{"Name": "Mark Melancon", "Notes": "", "Service Time": "5.098", "Mid": "", "TeamName": "Pirates", "Player": "", "Team": "", "Final": "9.65", "null": ["", "", "", "", "", "", ""]},{"Name": "Jordy Mercer", "Notes": "", "Service Time": "3.095", "Mid": "", "TeamName": "Pirates", "Player": "", "Team": "", "Final": "2.075", "null": ["", "", "", "", "", "", ""]},{"Name": "Shelby Miller", "Notes": "", "Service Time": "3.03", "Mid": "", "TeamName": "Diamondbacks", "Player": "", "Team": "", "Final": "4.35", "null": ["", "", "", "", "", "", ""]},{"Name": "Tom Milone", "Notes": "", "Service Time": "3.143", "Mid": "", "TeamName": "Twins", "Player": "", "Team": "", "Final": "4.5", "null": ["", "", "", "", "", "", ""]},{"Name": "Tyler Moore", "Notes": "", "Service Time": "3.018", "Mid": "", "TeamName": "Nationals", "Player": "", "Team": "", "Final": "0.9", "null": ["", "", "", "", "", "", ""]},{"Name": "Mitch Moreland", "Notes": "", "Service Time": "5.067", "Mid": "5.338", "TeamName": "Rangers", "Player": "6", "Team": "4.675", "Final": "", "null": ["", "", "", "", "", "", ""]},{"Name": "Bryan Morris", "Notes": "", "Service Time": "3.011", "Mid": "", "TeamName": "Marlins", "Player": "", "Team": "", "Final": "1.35", "null": ["", "", "", "", "", "", ""]},{"Name": "Logan Morrison", "Notes": "", "Service Time": "5.069", "Mid": "", "TeamName": "Rays", "Player": "", "Team": "", "Final": "4.2", "null": ["", "", "", "", "", "", ""]},{"Name": "Brandon Moss", "Notes": "", "Service Time": "5.16", "Mid": "", "TeamName": "Cardinals", "Player": "", "Team": "", "Final": "8.25", "null": ["", "", "", "", "", "", ""]},{"Name": "Mike Moustakas", "Notes": "", "Service Time": "4.111", "Mid": "5.6", "TeamName": "Royals", "Player": "7", "Team": "4.2", "Final": "", "null": ["", "", "", "", "", "", ""]},{"Name": "Derek Norris", "Notes": "", "Service Time": "3.102", "Mid": "", "TeamName": "Padres", "Player": "", "Team": "", "Final": "2.925", "null": ["", "", "", "", "", "", ""]},{"Name": "Ivan Nova", "Notes": "", "Service Time": "5.024", "Mid": "4.2", "TeamName": "Yankees", "Player": "4.6", "Team": "3.8", "Final": "4.1", "null": ["", "", "", "", "", "", ""]},{"Name": "Eduardo Nunez", "Notes": "", "Service Time": "4.09", "Mid": "", "TeamName": "Twins", "Player": "", "Team": "", "Final": "1.45", "null": ["", "", "", "", "", "", ""]},{"Name": "Adam Ottavino", "Notes": "", "Service Time": "4.087", "Mid": "", "TeamName": "Rockies", "Player": "", "Team": "", "Final": "E", "null": ["", "", "", "", "", "", ""]},{"Name": "Jarrod Parker", "Notes": "", "Service Time": "4", "Mid": "", "TeamName": "Athletics", "Player": "", "Team": "", "Final": "0.85", "null": ["", "", "", "", "", "", ""]},{"Name": "Wily Peralta", "Notes": "", "Service Time": "3.033", "Mid": "", "TeamName": "Brewers", "Player": "", "Team": "", "Final": "2.8", "null": ["", "", "", "", "", "", ""]},{"Name": "David Phelps", "Notes": "", "Service Time": "3.156", "Mid": "", "TeamName": "Marlins", "Player": "", "Team": "", "Final": "2.5", "null": ["", "", "", "", "", "", ""]},{"Name": "Michael Pineda", "Notes": "", "Service Time": "4.099", "Mid": "", "TeamName": "Yankees", "Player": "", "Team": "", "Final": "4.3", "null": ["", "", "", "", "", "", ""]},{"Name": "Trevor Plouffe", "Notes": "", "Service Time": "4.162", "Mid": "7.475", "TeamName": "Twins", "Player": "7.95", "Team": "7", "Final": "7.25", "null": ["", "", "", "", "", "", ""]},{"Name": "A.J. Pollock", "Notes": "Extension: 2yr/$10.25 M", "Service Time": "3.052", "Mid": "3.775", "TeamName": "Diamondbacks", "Player": "3.9", "Team": "3.65", "Final": "", "null": ["", "", "", "", "", "", ""]},{"Name": "Drew Pomeranz", "Notes": "", "Service Time": "3.013", "Mid": "", "TeamName": "Padres", "Player": "", "Team": "", "Final": "1.35", "null": ["", "", "", "", "", "", ""]},{"Name": "Jurickson Profar", "Notes": "", "Service Time": "2.167", "Mid": "", "TeamName": "Rangers", "Player": "", "Team": "", "Final": "0.605", "null": ["", "", "", "", "", "", ""]},{"Name": "Zach Putnam", "Notes": "", "Service Time": "2.135", "Mid": "", "TeamName": "White Sox", "Player": "", "Team": "", "Final": "0.975", "null": ["", "", "", "", "", "", ""]},{"Name": "Erasmo Ramirez", "Notes": "", "Service Time": "2.158", "Mid": "", "TeamName": "Rays", "Player": "", "Team": "", "Final": "2.375", "null": ["", "", "", "", "", "", ""]},{"Name": "A.J. Ramos", "Notes": "", "Service Time": "3.03", "Mid": "", "TeamName": "Marlins", "Player": "", "Team": "", "Final": "3.4", "null": ["", "", "", "", "", "", ""]},{"Name": "Wilson Ramos", "Notes": "", "Service Time": "5.047", "Mid": "", "TeamName": "Nationals", "Player": "", "Team": "", "Final": "5.35", "null": ["", "", "", "", "", "", ""]},{"Name": "Josh Reddick", "Notes": "", "Service Time": "5.05", "Mid": "", "TeamName": "Athletics", "Player": "", "Team": "", "Final": "6.575", "null": ["", "", "", "", "", "", ""]},{"Name": "Addison Reed", "Notes": "", "Service Time": "4.002", "Mid": "", "TeamName": "Mets", "Player": "", "Team": "", "Final": "5.3", "null": ["", "", "", "", "", "", ""]},{"Name": "Nolan Reimold", "Notes": "", "Service Time": "5.113", "Mid": "", "TeamName": "Orioles", "Player": "", "Team": "", "Final": "1.3", "null": ["", "", "", "", "", "", ""]},{"Name": "Anthony Rendon", "Notes": "", "Service Time": "2.13", "Mid": "", "TeamName": "Nationals", "Player": "", "Team": "", "Final": "2.8", "null": ["", "", "", "", "", "", ""]},{"Name": "Ben Revere", "Notes": "", "Service Time": "4.149", "Mid": "", "TeamName": "Blue Jays", "Player": "", "Team": "", "Final": "6.25", "null": ["", "", "", "", "", "", ""]},{"Name": "Matt Reynolds", "Notes": "", "Service Time": "4.046", "Mid": "", "TeamName": "Diamondbacks", "Player": "", "Team": "", "Final": "0.675", "null": ["", "", "", "", "", "", ""]},{"Name": "Clayton Richard", "Notes": "", "Service Time": "5.154", "Mid": "", "TeamName": "Cubs", "Player": "", "Team": "", "Final": "2", "null": ["", "", "", "", "", "", ""]},{"Name": "Garrett Richards", "Notes": "", "Service Time": "3.148", "Mid": "6.2", "TeamName": "Angels", "Player": "7.1", "Team": "5.3", "Final": "6.425", "null": ["", "", "", "", "", "", ""]},{"Name": "Rene Rivera", "Notes": "", "Service Time": "4.082", "Mid": "", "TeamName": "Rays", "Player": "", "Team": "", "Final": "1.7", "null": ["", "", "", "", "", "", ""]},{"Name": "Fernando Rodriguez", "Notes": "", "Service Time": "4.032", "Mid": "", "TeamName": "Athletics", "Player": "", "Team": "", "Final": "1.05", "null": ["", "", "", "", "", "", ""]},{"Name": "Andrew Romine", "Notes": "", "Service Time": "3.049", "Mid": "", "TeamName": "Tigers", "Player": "", "Team": "", "Final": "0.9", "null": ["", "", "", "", "", "", ""]},{"Name": "Hector Rondon", "Notes": "", "Service Time": "3", "Mid": "", "TeamName": "Cubs", "Player": "", "Team": "", "Final": "4.2", "null": ["", "", "", "", "", "", ""]},{"Name": "Trevor Rosenthal", "Notes": "", "Service Time": "3.058", "Mid": "", "TeamName": "Cardinals", "Player": "", "Team": "", "Final": "5.6", "null": ["", "", "", "", "", "", ""]},{"Name": "Robbie Ross", "Notes": "", "Service Time": "3.1", "Mid": "1.2", "TeamName": "Red Sox", "Player": "1.325", "Team": "1.075", "Final": "1.25", "null": ["", "", "", "", "", "", ""]},{"Name": "Tyson Ross", "Notes": "", "Service Time": "4.126", "Mid": "", "TeamName": "Padres", "Player": "", "Team": "", "Final": "9.625", "null": ["", "", "", "", "", "", ""]},{"Name": "Marc Rzepczynski", "Notes": "", "Service Time": "5.132", "Mid": "", "TeamName": "Athletics", "Player": "", "Team": "", "Final": "1.375", "null": ["", "", "", "", "", "", ""]},{"Name": "Fernando Salas", "Notes": "", "Service Time": "5.048", "Mid": "", "TeamName": "Angels", "Player": "", "Team": "", "Final": "2.4", "null": ["", "", "", "", "", "", ""]},{"Name": "Hector Santiago", "Notes": "", "Service Time": "4.016", "Mid": "", "TeamName": "Angels", "Player": "", "Team": "", "Final": "5", "null": ["", "", "", "", "", "", ""]},{"Name": "Michael Saunders", "Notes": "", "Service Time": "5.138", "Mid": "", "TeamName": "Blue Jays", "Player": "", "Team": "", "Final": "2.9", "null": ["", "", "", "", "", "", ""]},{"Name": "Tanner Scheppers", "Notes": "", "Service Time": "3.111", "Mid": "", "TeamName": "Rangers", "Player": "", "Team": "", "Final": "0.9", "null": ["", "", "", "", "", "", ""]},{"Name": "Evan Scribner", "Notes": "", "Service Time": "2.142", "Mid": "", "TeamName": "Mariners", "Player": "", "Team": "", "Final": "0.807", "null": ["", "", "", "", "", "", ""]},{"Name": "Jean Segura", "Notes": "", "Service Time": "3.065", "Mid": "", "TeamName": "Brewers", "Player": "", "Team": "", "Final": "2.6", "null": ["", "", "", "", "", "", ""]},{"Name": "Bryan Shaw", "Notes": "", "Service Time": "4.081", "Mid": "", "TeamName": "Indians", "Player": "", "Team": "", "Final": "2.75", "null": ["", "", "", "", "", "", ""]},{"Name": "Will Smith", "Notes": "", "Service Time": "2.155", "Mid": "", "TeamName": "Brewers", "Player": "", "Team": "", "Final": "1.475", "null": ["", "", "", "", "", "", ""]},{"Name": "Justin Smoak", "Notes": "", "Service Time": "5.077", "Mid": "", "TeamName": "Blue Jays", "Player": "", "Team": "", "Final": "3.9", "null": ["", "", "", "", "", "", ""]},{"Name": "Drew Smyly", "Notes": "", "Service Time": "3.154", "Mid": "3.475", "TeamName": "Rays", "Player": "3.75", "Team": "3.2", "Final": "3.75", "null": ["", "", "", "", "", "", ""]},{"Name": "Eric Sogard", "Notes": "", "Service Time": "4.064", "Mid": "", "TeamName": "Athletics", "Player": "", "Team": "", "Final": "1.5", "null": ["", "", "", "", "", "", ""]},{"Name": "Chris Stewart", "Notes": "", "Service Time": "5.091", "Mid": "", "TeamName": "Pirates", "Player": "", "Team": "", "Final": "E", "null": ["", "", "", "", "", "", ""]},{"Name": "Drew Storen", "Notes": "", "Service Time": "5.14", "Mid": "", "TeamName": "Nationals", "Player": "", "Team": "", "Final": "8.375", "null": ["", "", "", "", "", "", ""]},{"Name": "Stephen Strasburg", "Notes": "", "Service Time": "5.118", "Mid": "", "TeamName": "Nationals", "Player": "", "Team": "", "Final": "10.4", "null": ["", "", "", "", "", "", ""]},{"Name": "Pedro Strop", "Notes": "", "Service Time": "4.156", "Mid": "", "TeamName": "Cubs", "Player": "", "Team": "", "Final": "4.4", "null": ["", "", "", "", "", "", ""]},{"Name": "Junichi Tazawa", "Notes": "", "Service Time": "5.086", "Mid": "3.425", "TeamName": "Red Sox", "Player": "4.15", "Team": "2.7", "Final": "3.375", "null": ["", "", "", "", "", "", ""]},{"Name": "Ruben Tejada", "Notes": "", "Service Time": "4.171", "Mid": "", "TeamName": "Mets", "Player": "", "Team": "", "Final": "3", "null": ["", "", "", "", "", "", ""]},{"Name": "Chris Tillman", "Notes": "", "Service Time": "4.113", "Mid": "", "TeamName": "Orioles", "Player": "", "Team": "", "Final": "6.225", "null": ["", "", "", "", "", "", ""]},{"Name": "Shawn Tolleson", "Notes": "", "Service Time": "3.122", "Mid": "3.25", "TeamName": "Rangers", "Player": "3.9", "Team": "2.6", "Final": "3.275", "null": ["", "", "", "", "", "", ""]},{"Name": "Josh Tomlin", "Notes": "", "Service Time": "4.151", "Mid": "", "TeamName": "Indians", "Player": "", "Team": "", "Final": "2.25", "null": ["", "", "", "", "", "", ""]},{"Name": "Carlos Torres", "Notes": "", "Service Time": "3.114", "Mid": "", "TeamName": "Mets", "Player": "", "Team": "", "Final": "1.05", "null": ["", "", "", "", "", "", ""]},{"Name": "Mark Trumbo", "Notes": "", "Service Time": "5.027", "Mid": "", "TeamName": "Orioles", "Player": "", "Team": "", "Final": "9.15", "null": ["", "", "", "", "", "", ""]},{"Name": "Justin Turner", "Notes": "", "Service Time": "5.045", "Mid": "", "TeamName": "Dodgers", "Player": "", "Team": "", "Final": "5.1", "null": ["", "", "", "", "", "", ""]},{"Name": "Luis Valbuena", "Notes": "", "Service Time": "5.148", "Mid": "", "TeamName": "Astros", "Player": "", "Team": "", "Final": "6.125", "null": ["", "", "", "", "", "", ""]},{"Name": "Danny Valencia", "Notes": "", "Service Time": "4.118", "Mid": "", "TeamName": "Athletics", "Player": "", "Team": "", "Final": "3.15", "null": ["", "", "", "", "", "", ""]},{"Name": "Scott Van Slyke", "Notes": "", "Service Time": "2.151", "Mid": "", "TeamName": "Dodgers", "Player": "", "Team": "", "Final": "1.225", "null": ["", "", "", "", "", "", ""]},{"Name": "Arodys Vizcaino", "Notes": "", "Service Time": "2.168", "Mid": "", "TeamName": "Braves", "Player": "", "Team": "", "Final": "0.897", "null": ["", "", "", "", "", "", ""]},{"Name": "Neil Walker", "Notes": "", "Service Time": "5.166", "Mid": "10.6", "TeamName": "Mets", "Player": "11.8", "Team": "9.4", "Final": "10.55", "null": ["", "", "", "", "", "", ""]},{"Name": "Brett Wallace", "Notes": "", "Service Time": "3.003", "Mid": "", "TeamName": "Padres", "Player": "", "Team": "", "Final": "1", "null": ["", "", "", "", "", "", ""]},{"Name": "Adam Warren", "Notes": "", "Service Time": "3.036", "Mid": "", "TeamName": "Cubs", "Player": "", "Team": "", "Final": "1.7", "null": ["", "", "", "", "", "", ""]},{"Name": "Tony Watson", "Notes": "", "Service Time": "4.101", "Mid": "", "TeamName": "Pirates", "Player": "", "Team": "", "Final": "3.45", "null": ["", "", "", "", "", "", ""]},{"Name": "Joe Wieland", "Notes": "", "Service Time": "3.027", "Mid": "", "TeamName": "Dodgers", "Player": "", "Team": "", "Final": "0.59", "null": ["", "", "", "", "", "", ""]},{"Name": "Tom Wilhelmsen", "Notes": "", "Service Time": "4.089", "Mid": "", "TeamName": "Rangers", "Player": "", "Team": "", "Final": "3.1", "null": ["", "", "", "", "", "", ""]},{"Name": "Justin Wilson", "Notes": "", "Service Time": "3.035", "Mid": "", "TeamName": "Tigers", "Player": "", "Team": "", "Final": "1.525", "null": ["", "", "", "", "", "", ""]},{"Name": "Chris Withrow", "Notes": "", "Service Time": "2.132", "Mid": "", "TeamName": "Braves", "Player": "", "Team": "", "Final": "0.61", "null": ["", "", "", "", "", "", ""]},{"Name": "Travis Wood", "Notes": "", "Service Time": "5.004", "Mid": "", "TeamName": "Cubs", "Player": "", "Team": "", "Final": "6.175", "null": ["", "", "", "", "", "", ""]},{"Name": "Vance Worley", "Notes": "", "Service Time": "3.112", "Mid": "", "TeamName": "Orioles", "Player": "", "Team": "", "Final": "2.6", "null": ["", "", "", "", "", "", ""]}]
//from http://stackoverflow.com/questions/14167863/how-can-i-bring-a-circle-to-the-front-with-d3
d3.selection.prototype.moveToFront = function() {
    return this.each(function(){
        this.parentNode.appendChild(this);
    });
};


function buildChart() {
    
    

			var selection = 'Filed'
			var divButtons = $('#stat-row')
			var teamName = 'MLB'

			var teamArray = ['MLB', 'Angels', 'Astros', 'Athletics', 'Blue Jays', 'Braves', 'Brewers', 'Cardinals', 'Cubs',
			'Diamondbacks', 'Dodgers', 'Giants', 'Indians', 'Mariners', 'Marlins', 'Mets', 'Nationals', 'Orioles', 'Padres',
			'Phillies', 'Pirates', 'Rangers', 'Rays', 'Red Sox', 'Reds', 'Rockies', 'Royals', 'Tigers', 'Twins', 'White Sox', 'Yankees']


			// d3.selectAll('#viz-title')
			// 	.style('padding-left', '20px')
			// 	.style('font-size', '26px')
			// 	.style('margin-bottom', '20px')
			// 	.style('font-family', 'Lato')

	  //       divButtons.css('border-bottom', '3px solid #50ae26')
	  //       	.css('display', 'table')
	  //       	.css('table-layout', 'fixed')
	  //       	.css('width', '100%')

	  //       $.each(['Filed', 'Settled', 'All'], function (index) {
	  //           divButtons.append($("<div>")
	  //           	.text(this)
	  //           	.attr('class', 'stat-block')
	  //           	.css('display', 'table-cell')
	  //           	.css('background-color', '#f9f9f9')
	  //           	.css('line-height', '2')
	  //           	.css('border', '1px solid #cdcdcd')
	  //           	.css('text-align', 'center')
	  //           	.css('height', '30px')
	  //           	.css('cursor', 'pointer')
	  //           	.css('font-family', 'lato, arial')
	  //           	)
	  //       });
			$.each(teamArray, function() {

				$('#team-in').append($("<option>").text(this).val(this));

			})

	        $('.stat-block').on({
	         	mouseover : function() {
	        		$(this).attr('class').indexOf('active') !== -1  ? null : $(this).css('background-color', '#e8e8e8')
	        	},
	        	mouseout: function() {
	        		$(this).attr('class').indexOf('active') !== -1  ? null : $(this).css('background-color', '#f9f9f9')
	        	},
	        	click: function() {
	        		$('.stat-block').css('background-color', '#f9f9f9').removeClass('active')
	        		$(this).css('background-color', '#50ae26').addClass('active')
	        		selection = $(this).text()
	        		build()
	        	}})

	        $('.stat-block')
	        $('.stat-block:first').css('background-color', '#50ae26').addClass('active')

			var margin = {top: 125, right: 30, bottom: 75, left: 120}
			var width = 600 - margin.left - margin.right
			var height = 2500//Math.max(300,width*1.5) - margin.top - margin.bottom

			//data munge
			//min max functionality
			var totalArray = []
			dataFull.forEach(function(d,i){

				d.Player.length > 0 ? totalArray.push(d.Player) : null
				d.Team.length > 0 ? totalArray.push(d.Team) : null
				d.Final.length > 0 && !d.Final.match(/[a-z]/i) ? totalArray.push(d.Final) : null
						
			})
			range = d3.extent(totalArray)
			range[0] = range[0] * .5
			range[1] = 15//range[1] * 1.1
			//**//
		

		//sort functionality
		function dataSort(a,b) {

			var property = 'Final' //measures[0]
			var propertyBkup = 'Mid'
			var A = a[property].length > 0 ? parseFloat(a[property]) : parseFloat(a[propertyBkup])
			var B = b[property].length > 0 ? parseFloat(b[property]) : parseFloat(b[propertyBkup])

				if (A < B)
					return 1;
				if (A >= B)
					return -1;
				return 0;
		}


		function build() {

			d3.selectAll('svg').remove()
			d3.select('#d3-container').append('svg')
				.attr('class','chart')
				.append('image')
					.attr('xlink:href', 'http://www.fangraphs.com/blogs/wp-content/uploads/2016/01/arbitrationKey.png')
					.attr('width', '600px')
					.attr('height','150px')

			var All = function(d) {return d.Player > 0 || d.Final > 0;}
			var Signed = function(d) {return d.Final > 0;}
			var Filed = function(d) {return d.Player > 0;}

			data = dataFull.filter(eval(selection))
			data = data.filter(function(d) {
				if (teamName === 'MLB') {
					return true
				}
				else {
					return d.TeamName === teamName
				}
			})
			data = data.filter(function(d) {
				return !d.Final.match(/[a-z]/i)
			})

			//data = data.filter(function(d) {return d.Name == 'Neil Walker'})

			data = data.sort(dataSort)
			numPlayers = data.length
			height = numPlayers *20//* 18
			var mid = height/data.length/2

			var arrPlayers = data.map(function(element) { return element.Name; }) //creates array of teams

			var x = d3.scale.linear()
				.domain(range) //uses min and max of all the data
				.range([0,width])

	        var xAxis = d3.svg.axis()
				.scale(x)
				.tickPadding(6)
				.orient("bottom")
				.tickFormat(function(d) { 
					return '$' + d.toFixed(0) + 'M'
				}) 
				.outerTickSize(4)//formats the ERA/FIP so that is has two decimal places

			var y = d3.scale.ordinal()
				.domain(arrPlayers)
				.rangeBands([0, height]); //fix this

			var yAxis = d3.svg.axis()
				.scale(y)
				.tickSize(0)
				.tickPadding(9)
				.orient("left")


			var chart = d3.select(".chart")
	        	.attr("width", width + margin.left + margin.right)
	            .attr("height", height + margin.top + margin.bottom)
	            .append("g")
	            .attr("class", "plot")
	            .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

	        var gridLine = chart.selectAll("new")
				.data(data)
	        	.enter()
	        	.append("line")
	        	.attr('x1', 0)
	        	.attr('x2', width)
	        	.attr('y1', function(d) { return y(d.Name)})
	        	.attr('y2', function(d) { return y(d.Name)})
	        	.attr('class', 'grid-line')
	        	.style('stroke','#303030')


	      	chart.append("g")
				.attr("class", "axis x")
				.attr("transform", "translate(-10," + height + ")")
				.call(xAxis)

			d3xAxis = d3.selectAll('.axis')
				.style('font-family', 'lato,arial')
				.style('font-size', '12px')
				
			d3xAxis.select('path.domain').remove()

			d3xAxis.selectAll('line').style('stroke', 'black').style('stroke-width', 2)

	      	chart.append("g")
				.attr("class", "axis y")
				.attr("transform", "translate("+ 0 +",0)")
				.call(yAxis)

			d3.selectAll('.axis.y')
				.style('font-family', 'lato,arial')
				.style('font-size', '12px')
                
           var row = chart.selectAll("new")
				.data(data)
	        	.enter()
                .append('g')
                .on('mouseenter', function() {
                    var player = d3.select(this).datum()['Name']
                    d3.selectAll('.d').filter(function(d) {
                        return d.Name == player
                    }).moveToFront()
                    d3.select(this).selectAll('text').attr('fill-opacity', .5)
                })
                .on('mouseleave', function() {
                    d3.select(this).selectAll('.cover').moveToFront()
                    d3.select(this).selectAll('text').attr('fill-opacity', 1).moveToFront()
                    // d3.select('.notes').moveToFront()
                })
                
                row.append('rect')
                .attr('x', function(d) { return x(range[0]) })
	        	.attr('y', function(d) { return y(d.Name); })
                .attr('width', (x(range[1]) - x(range[0])) )
                .attr('height', '18px')
                .attr('fill', 'white')
                .attr('fill-opacity',.4)


            var subrow = row.append('g')

	        var line = subrow
	        	.append("line")
	        	.attr('x1', function(d) { return x(d.Team); })
	        	.attr('x2', function(d) { return x(d.Player); })
	        	.attr('y1', function(d) { return y(d.Name) + mid; ; })
	        	.attr('y2', function(d) { return y(d.Name) + mid; })
	        	.attr('class', 'd line')
	        	.attr('data-player', function(d) { return d.Name; })
	        	.style('stroke-width', 4)
	        	.style('stroke', '#909090')

	        var markMid = subrow
	        	.append('rect')
	        	.filter(function(d) {
					return d.Team > 0;
				})
	        	.attr('height', 14)
	        	.attr('width', 2)
	        	.attr('x', function(d) { return x((parseFloat(d.Team) + parseFloat(d.Player))/2) - 1; })
	        	.attr('y', function(d) { return y(d.Name) + mid - 7; })
	        	.attr('class', 'd Mid')
	        	.attr('data-player', function(d) { return d.Name; })
	        	.style('fill', '#909090')

	        var dotsTeam = subrow
	        	.append("circle")
	        	.filter(function(d) {
					return d.Team > 0;
				})
	        	.attr('cx', function(d) { return x(d.Team); })
	        	.attr('cy', function(d) { return y(d.Name) + mid; })
	        	.attr('r', '5')
	        	.attr('class', 'd Team')
	        	.style('fill', '#909090')

	        var dotsPlayer = subrow
	        	.append("circle")
	        	.filter(function(d) {
					return d.Player > 0;
				})
	        	.attr('cx', function(d) { return x(d.Player); })
	        	.attr('cy', function(d) { return y(d.Name) + mid; })
	        	.attr('r', '5')
	        	.attr('class', 'd Player')
	        	.style('fill', '#909090')

	        var dotsFinal = subrow
	        	.append("circle")
	        	.filter(function(d) {
					return d.Final > 0;
				})
	        	.attr('cx', function(d) { return x(d.Final); })
	        	.attr('cy', function(d) { return y(d.Name) + mid; })
	        	.attr('r', '6')
	        	.attr('class', 'd Final')
	        	.style('fill', function(d) {

	        		if (parseFloat(d.Final) == parseFloat(d.Player)) {
	        			return '#336699'
	        		}
	        		else if (parseFloat(d.Final) == parseFloat(d.Team)) {
	        			return '#b3000b'
	        		}
	        		else {
	        			return '#FDC60D'
	        		}
	        	})
                
                            
            subrow.append('rect')
                .filter(function(d) {return d.Notes.length > 0;})
                .attr('x', function(d) { return x(range[0]) })
	        	.attr('y', function(d) { return y(d.Name); })
                .attr('width', (x(range[1]) - x(range[0])) )
                .attr('height', '18px')
                .attr('fill', 'white')
                .attr('fill-opacity',.7)
                .attr('class', 'cover')
                // .on('mouseleave', function() {
                //     //d3.select(this).moveToFront()
                //     // d3.select('.notes').moveToFront()
                    
                // })
                
	        subrow.append("text")
                .filter(function(d) {return d.Notes.length > 0;})
                .attr('x', function(d) { return (x(range[0]) + x(range[1])) / 2; })
	        	.attr('y', function(d) { return y(d.Name)+mid+4; })
                .attr('class', 'notes')
                .attr('text-anchor', 'middle')
                .style('font-family', 'Lato, Arial')
                .style('font-size', '12px')
                .text(function(d) { return d.Notes; })

	       	chart.append("text") //fix
			    .attr("class", "axis title x")
			    .attr("text-anchor", "end")
			    .attr("x", width/2 + margin.left -50)
			    .attr("y", height + 50)
			    .style('font-family', 'lato, arial')
			    .style('font-size', '14px')
			    .text('Contract/Offer Amount')

	        var border = chart.append('rect')
	        	.attr('height',height)
	        	.attr('width',width)
	        	.attr('fill','none')
	        	.attr('class','chart-border')
	        	.style('stroke','#303030')

	        if (data.length === 0) {

				chart.attr('height', 100)
				.append('text')
				.style('font-family', 'lato, arial')
				.attr('x', width/2 - margin.left/2)
				.attr('y', 50)
				.attr('text-anchor', 'middle')
				.text('There are no players that match the selection criteria.')

				d3.selectAll('.x.axis').remove()
			}


			function tooltipOn(point) {

				var typeKey = d3.select(point).attr('class')
				var type = typeKey.indexOf('Team') !== -1 ? 'Team' : typeKey.indexOf('Player') !== -1 ? 'Player': typeKey.indexOf('Final') !== -1 ? 'Final':'Mid'

				var cx = typeKey.indexOf('Mid') !== -1 ? d3.select(point).attr('x') : d3.select(point).attr('cx')
				var cy = typeKey.indexOf('Mid') !== -1 ? d3.select(point).attr('y') : d3.select(point).attr('cy')

				var labelObj = {"Team": "Team Offer", "Player": "Player Offer", "Mid": "Midpoint", "Final": "2016 Contract"}

				var value = '$' + parseFloat(d3.select(point).datum()[type]).toFixed(3) + 'M'
				var team = d3.select(point).datum().TeamName
				var player = d3.select(point).datum().Name

				tool_tip = chart
					.append('g')
					.attr('class','tool-tip-text')

		        toolTipRect = tool_tip
		        	.append('rect')
		        	.attr('fill','black')
		            .attr('x', cx-190/2)
		            .attr('y', cy-60)
		            .attr('width',190)
		            .attr('height',40)
		            .attr('rx','2px')
		            .style('opacity', .85)

		       	tool_tip.append('text')
		            .text(player + ' - ' + team)
		            .attr('x', cx+300)
		            .attr('y', cy-44)
		            .attr('text-anchor', 'middle')
		            .attr('class', 'tool-tip-text')
		            .attr('opacity',1)
		            .attr('fill','white')
		            .style('font-family', 'lato, arial')
		            .style('font-size', '12px')


		       	tool_tip.append('text')
		            .text(labelObj[type] + ": " + value)
		            .attr('x', cx+300)
		            .attr('y', cy-44)
		            .attr('dy', '1.4em')
		            .attr('text-anchor', 'middle')
		            .attr('class', 'tool-tip-text')
		            .attr('opacity',1)
		            .attr('fill','white')
		            .style('font-family', 'lato,arial')
		            .style('font-size', '12px')

		        tool_tip.append('g')
		        	.attr('transform', 'translate('+ cx +',' + (cy-15) + ')')
		        	.append("path")
					.attr("class", "tool-tip-text")
					.attr("d", d3.svg.symbol().type("triangle-down"))
					.style('opacity', .85)
			}

			function tooltipOnMid(point) {

				var typeKey = d3.select(point).attr('class')
				var type = 'Mid'

				var cx = x(((parseFloat(d3.select(point).datum().Player) + parseFloat(d3.select(point).datum().Team)).toFixed(3))/2) 
				var cy = y(d3.select(point).datum().Name) + mid -6

				var labelObj = {"Team": "Team Offer", "Player": "Player Offer", "Mid": "Midpoint", "Final": "2016 Contract"}

				var value = '$' + parseFloat(d3.select(point).datum()[type]).toFixed(3) + 'M'
				var diff = '$' + (parseFloat(d3.select(point).datum().Player) - parseFloat(d3.select(point).datum().Team)).toFixed(3) + 'M'
				var team = d3.select(point).datum().TeamName
				var player = d3.select(point).datum().Name

				tool_tip = chart
					.append('g')
					.attr('class','tool-tip-text')

		        toolTipRect = tool_tip
		        	.append('rect')
		        	.attr('fill','black')
		            .attr('x', cx-190/2)
		            .attr('y', cy-75)
		            .attr('width',190)
		            .attr('height',60)
		            .attr('rx','2px')
		            .style('opacity', .85)
		            .style('stroke', 'none')

		       	tool_tip.append('text')
		            .attr('x', cx)
		            .attr('y', cy-63)
		            .attr('dy', '.4em')
		            .attr('text-anchor', 'middle')
		            .attr('class', 'tool-tip-text')
		            .attr('opacity',1)
		            .attr('fill','white')
		            .style('font-family', 'lato,arial')
		            .style('font-size', '12px')
		            .text(player + ' - ' + team)

		        tool_tip.append('text')
		            .attr('x', cx)
		            .attr('y', cy-63)
		            .attr('dy', '1.7em')
		            .attr('text-anchor', 'middle')
		            .attr('class', 'tool-tip-text')
		            .attr('opacity',1)
		            .attr('fill','white')
		            .style('font-family', 'lato,arial')
		            .style('font-size', '12px')
		            .text(labelObj[type]  + ': ' + value)

		      	tool_tip.append('text')
		            .attr('x', cx)
		            .attr('y', cy-63)
		            .attr('dy', '3.2em')
		            .attr('text-anchor', 'middle')
		            .attr('class', 'tool-tip-text')
		            .attr('opacity',1)
		            .attr('fill','white')
		            .style('font-family', 'lato,arial')
		            .style('font-size', '12px')
		            .text('Difference: '+ diff)

		        tool_tip.append('g')
		        	.attr('transform', 'translate('+ (cx) +',' + (cy-10) + ')')
		        	.append("path")
					.attr("class", "tool-tip-text")
					.attr("d", d3.svg.symbol().type("triangle-down"))
					.style('opacity', .85)
					.style('stroke', 'none')
			}

			function tooltipOff() {
				d3.selectAll('.tool-tip-text')
		            .remove()
			}

			var r0;
			d3.selectAll('.d.Team,.d.Player,.d.Final').on('mouseover', function() { 
				r0 = d3.select(this).style('r')
				d3.select(this)
					//.transition()
					//.duration(50)
						.style('r', parseInt(r0) + 2 )
						.style('stroke-width', '3px')
						.style('stroke', 'black')
				tooltipOn(this)
			}).on('mouseout', function() {
					d3.select(this)
						.transition()
						.duration(100)
						.style('r', r0)			
						.style('stroke-width', '0')
				tooltipOff()
			})

			d3.selectAll('.Mid, .line').on('mouseover', function() { 

				var player = d3.select(this).attr('data-player')

				//make this so we grab both elements
				d3.selectAll('line[data-player="' + player + '"]')
					//.transition()
					//.duration(50)
						.style('stroke-width', '7px')
						.style('stroke', 'black')

				d3.selectAll('rect[data-player="' + player + '"]')
					//.transition()
					//.duration(50)
						.style('stroke-width', '2px')
						.style('stroke', 'black')


				tooltipOnMid(this)
			}).on('mouseleave', function() {

					var player = d3.select(this).attr('data-player')

					d3.selectAll('line[data-player="' + player + '"]')
					.transition()
					.duration(100)
					.style('stroke-width', '4px')
					.style('stroke', '#909090')


				d3.selectAll('rect[data-player="' + player + '"]')
					.transition()
					.duration(100)
					.style('stroke-width', '0')
					.style('stroke', '#909090')
				tooltipOff()
			})



		}

		$('#team-in').change(function() {
	    	teamName = $(this).val()
	    	build()
	    })
		build()




	}

	$( window ).resize(function() { 
		main()
	});

	function main() {
		buildChart()
	}
	main()
